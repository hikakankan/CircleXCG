#pragma once

asm(
    "get_coordinatex_a:\n\t"
    "movem.l #7168,-(%sp)\n\t"
    "move.l 16(%sp),%d3\n\t"
    "move.l 20(%sp),%d4\n\t"
    "move.l 28(%sp),%d5\n\t"
    "cmp.l %d4,%d5\n\t"
    "jeq gcoxL232\n\t"
    "move.l 32(%sp),%d0\n\t"
    "sub.l %d4,%d0\n\t"
    "move.l %d0,-(%sp)\n\t"
    "move.l 28(%sp),%d0\n\t"
    "sub.l %d3,%d0\n\t"
    "move.l %d0,-(%sp)\n\t"
    "jsr __mulsi3\n\t"
    "addq.l #8,%sp\n\t"
    "sub.l %d4,%d5\n\t"
    "move.l %d5,-(%sp)\n\t"
    "move.l %d0,-(%sp)\n\t"
    "jsr __divsi3\n\t"
    "addq.l #8,%sp\n\t"
    "add.l %d0,%d3\n\t"
    "gcoxL232:\n\t"
    "move.l %d3,%d0\n\t"
    "movem.l (%sp)+,#56\n\t"
    "rts\n\t"
);
asm(
    "orthogonal_dim_table_asm:\n\t"
    ".long	10000\n\t"
    ".long	9999\n\t"
    ".long	9997\n\t"
    ".long	9995\n\t"
    ".long	9991\n\t"
    ".long	9987\n\t"
    ".long	9981\n\t"
    ".long	9975\n\t"
    ".long	9967\n\t"
    ".long	9959\n\t"
    ".long	9949\n\t"
    ".long	9939\n\t"
    ".long	9927\n\t"
    ".long	9915\n\t"
    ".long	9901\n\t"
    ".long	9886\n\t"
    ".long	9871\n\t"
    ".long	9854\n\t"
    ".long	9836\n\t"
    ".long	9817\n\t"
    ".long	9797\n\t"
    ".long	9777\n\t"
    ".long	9754\n\t"
    ".long	9731\n\t"
    ".long	9707\n\t"
    ".long	9682\n\t"
    ".long	9656\n\t"
    ".long	9628\n\t"
    ".long	9600\n\t"
    ".long	9570\n\t"
    ".long	9539\n\t"
    ".long	9507\n\t"
    ".long	9474\n\t"
    ".long	9439\n\t"
    ".long	9404\n\t"
    ".long	9367\n\t"
    ".long	9329\n\t"
    ".long	9290\n\t"
    ".long	9249\n\t"
    ".long	9208\n\t"
    ".long	9165\n\t"
    ".long	9120\n\t"
    ".long	9075\n\t"
    ".long	9028\n\t"
    ".long	8979\n\t"
    ".long	8930\n\t"
    ".long	8879\n\t"
    ".long	8826\n\t"
    ".long	8772\n\t"
    ".long	8717\n\t"
    ".long	8660\n\t"
    ".long	8601\n\t"
    ".long	8541\n\t"
    ".long	8479\n\t"
    ".long	8416\n\t"
    ".long	8351\n\t"
    ".long	8284\n\t"
    ".long	8216\n\t"
    ".long	8146\n\t"
    ".long	8074\n\t"
    ".long	8000\n\t"
    ".long	7924\n\t"
    ".long	7846\n\t"
    ".long	7765\n\t"
    ".long	7683\n\t"
    ".long	7599\n\t"
    ".long	7512\n\t"
    ".long	7423\n\t"
    ".long	7332\n\t"
    ".long	7238\n\t"
    ".long	7141\n\t"
    ".long	7042\n\t"
    ".long	6939\n\t"
    ".long	6834\n\t"
    ".long	6726\n\t"
    ".long	6614\n\t"
    ".long	6499\n\t"
    ".long	6380\n\t"
    ".long	6257\n\t"
    ".long	6131\n\t"
    ".long	6000\n\t"
    ".long	5864\n\t"
    ".long	5723\n\t"
    ".long	5577\n\t"
    ".long	5425\n\t"
    ".long	5267\n\t"
    ".long	5102\n\t"
    ".long	4930\n\t"
    ".long	4749\n\t"
    ".long	4559\n\t"
    ".long	4358\n\t"
    ".long	4146\n\t"
    ".long	3919\n\t"
    ".long	3675\n\t"
    ".long	3411\n\t"
    ".long	3122\n\t"
    ".long	2800\n\t"
    ".long	2431\n\t"
    ".long	1989\n\t"
    ".long	1410\n\t"
    ".long	0\n\t"
);

asm(
    "tab_orthogonal_dim_asm:\n"
    "\tmove.l %a3,-(%sp)\n"
    "\tmove.l 8(%sp),%d0\n"
    "\tjpl filasm325\n"
    "\tneg.l %d0\n"
    "filasm325:\n"
    "\tmove.l %d0,%d1\n"
    "\tlsl.l #5,%d1\n"
    "\tsub.l %d0,%d1\n"
    "\tadd.l %d1,%d1\n"
    "\tadd.l %d1,%d1\n"
    "\tadd.l %d1,%d0\n"
    "\tmove.l %d0,%d1\n"
    "\tadd.l %d0,%d1\n"
    "\tadd.l %d1,%d1\n"
    "\tadd.l %d1,%d0\n"
    "\tlsl.l #4,%d0\n"
    "\tlea __divsi3,%a3\n"
    "\tmove.l 12(%sp),-(%sp)\n"
    "\tmove.l %d0,-(%sp)\n"
    "\tjsr (%a3)\n"
    "\taddq.l #8,%sp\n"
    "\tcmp.l #10000,%d0\n"
    "\tjgt filasm327\n"
    "\tpea 100.w\n"
    "\tmove.l %d0,-(%sp)\n"
    "\tjsr (%a3)\n"
    "\taddq.l #8,%sp\n"
    "\tlsl.l #2,%d0\n"
    "\tlea orthogonal_dim_table_asm,%a0\n"
    "\tmove.l (%a0,%d0.l),-(%sp)\n"
    "\tmove.l 20(%sp),-(%sp)\n"
    "\tjsr __mulsi3\n"
    "\taddq.l #8,%sp\n"
    "\tpea 10000.w\n"
    "\tmove.l %d0,-(%sp)\n"
    "\tjsr (%a3)\n"
    "\taddq.l #8,%sp\n"
    "filasm324:\n"
    "\tmove.l (%sp)+,%a3\n"
    "\trts\n"
    "filasm327:\n"
    "\tmoveq #0,%d0\n"
    "\tjra filasm324\n"
);

asm(
    "\tg_gmemory_asm=0xc00000\n"
    "fillellipse_asm:\n"
    "\tmovem.l #7960,-(%sp)\n"
    "\tmove.l 40(%sp),%d3\n"
    "\tmove.l 48(%sp),%d0\n"
    "\tmove.l 44(%sp),%d7\n"
    "\tjpl filasm333\n"
    "\taddq.l #1,%d7\n"
    "filasm333:\n"
    "\tasr.l #1,%d7\n"
    "\tmove.l %d7,%d4\n"
    "\tadd.l 36(%sp),%d4\n"
    "\tmove.l %d0,%d1\n"
    "\tjpl filasm334\n"
    "\taddq.l #1,%d1\n"
    "filasm334:\n"
    "\tasr.l #1,%d1\n"
    "\tmove.l %d1,%a4\n"
    "\tmove.l %d1,%d6\n"
    "\tadd.l %d3,%d6\n"
    "\tmove.l %d0,%d5\n"
    "\tadd.l %d3,%d5\n"
    "\tlea tab_orthogonal_dim_asm,%a3\n"
    "filasm329:\n"
    "\tcmp.l %d5,%d3\n"
    "\tjlt filasm332\n"
    "\tmovem.l (%sp)+,#6392\n"
    "\trts\n"
    "filasm332:\n"
    "\tmove.l %d7,-(%sp)\n"
    "\tmove.l %a4,-(%sp)\n"
    "\tmove.l %d3,%d0\n"
    "\tsub.l %d6,%d0\n"
    "\tmove.l %d0,-(%sp)\n"
    "\tjsr (%a3)\n"
    "\tlea (12,%sp),%sp\n"
    "\tmove.l %d3,%d1\n"
    "\tmoveq #10,%d2\n"
    "\tlsl.l %d2,%d1\n"
    "\tmove.l %d1,%a0\n"
    "\tadd.l #g_gmemory_asm,%a0\n"
    "\tmove.l %d4,%d1\n"
    "\tsub.l %d0,%d1\n"
    "\tadd.l %d4,%d0\n"
    "filasm330:\n"
    "\tcmp.l %d1,%d0\n"
    "\tjge filasm331\n"
    "\taddq.l #1,%d3\n"
    "\tjra filasm329\n"
    "filasm331:\n"
    "\tmove.l %d1,%a1\n"
    "\tadd.l %d1,%a1\n"
    "\tmove.w 54(%sp),(%a0,%a1.l)\n"
    "\taddq.l #1,%d1\n"
    "\tjra filasm330\n"
);

asm(
    "fillroundedrectangle_asm:\n"
    "\tsubq.l #8,%sp\n"
    "\tmovem.l #7966,-(%sp)\n"
    "\tmove.l 52(%sp),%a3\n"
    "\tmove.l 56(%sp),%d3\n"
    "\tmove.l 68(%sp),%d7\n"
    "\tmove.l 72(%sp),%d6\n"
    "\tmove.l 76(%sp),%d5\n"
    "\tlea (%a3,%d7.l),%a0\n"
    "\tmove.l %a0,40(%sp)\n"
    "\tmove.l %d3,%d4\n"
    "\tadd.l %d6,%d4\n"
    "\tmove.l %d3,%a5\n"
    "\tadd.l 64(%sp),%a5\n"
    "\tmove.l %a5,%d0\n"
    "\tmoveq #10,%d1\n"
    "\tlsl.l %d1,%d0\n"
    "\tmove.l %d0,%a6\n"
    "\tadd.l #g_gmemory_asm-1024,%a6\n"
    "\tlea tab_orthogonal_dim_asm,%a4\n"
    "filasm336:\n"
    "\tcmp.l %d3,%d4\n"
    "\tjgt filasm341\n"
    "\tsub.l %d6,%a5\n"
    "\tmove.l 60(%sp),%d1\n"
    "\tadd.l %a3,%d1\n"
    "filasm342:\n"
    "\tcmp.l %a5,%d4\n"
    "\tjge filasm335\n"
    "\tmove.l %d4,%d0\n"
    "\tmoveq #10,%d2\n"
    "\tlsl.l %d2,%d0\n"
    "\tmove.l %d0,%a0\n"
    "\tadd.l #g_gmemory_asm,%a0\n"
    "\tmove.l %a3,%d0\n"
    "\tjra filasm345\n"
    "filasm341:\n"
    "\tmove.l %d7,-(%sp)\n"
    "\tmove.l %d6,-(%sp)\n"
    "\tmove.l %d3,%d2\n"
    "\tsub.l %d4,%d2\n"
    "\tmove.l %d2,-(%sp)\n"
    "\tjsr (%a4)\n"
    "\tlea (12,%sp),%sp\n"
    "\tmove.l %d0,%d1\n"
    "\tadd.l %d0,%d1\n"
    "\tadd.l %a3,%d1\n"
    "\tadd.l 60(%sp),%d1\n"
    "\tsub.l %d7,%d1\n"
    "\tmove.l %d1,36(%sp)\n"
    "\tmove.l 40(%sp),%a0\n"
    "\tsub.l %d0,%a0\n"
    "\tmove.l %d3,%d2\n"
    "\tmoveq #10,%d1\n"
    "\tlsl.l %d1,%d2\n"
    "\tmove.l %d2,%a2\n"
    "\tadd.l #g_gmemory_asm,%a2\n"
    "\tmove.l %a0,%a1\n"
    "\tmove.l 36(%sp),%d1\n"
    "\tsub.l %d0,%d1\n"
    "filasm337:\n"
    "\tcmp.l %a1,%d1\n"
    "\tjge filasm338\n"
    "filasm339:\n"
    "\tcmp.l %a0,%d1\n"
    "\tjge filasm340\n"
    "\taddq.l #1,%d3\n"
    "\tlea (-1024,%a6),%a6\n"
    "\tjra filasm336\n"
    "filasm338:\n"
    "\tmove.l %a1,%d0\n"
    "\tadd.l %a1,%d0\n"
    "\tmove.w %d5,(%a2,%d0.l)\n"
    "\taddq.l #1,%a1\n"
    "\tjra filasm337\n"
    "filasm340:\n"
    "\tlea (%a0,%a0.l),%a1\n"
    "\tmove.w %d5,(%a6,%a1.l)\n"
    "\taddq.l #1,%a0\n"
    "\tjra filasm339\n"
    "filasm343:\n"
    "\tmove.l %d0,%a1\n"
    "\tadd.l %d0,%a1\n"
    "\tmove.w %d5,(%a0,%a1.l)\n"
    "\taddq.l #1,%d0\n"
    "filasm345:\n"
    "\tcmp.l %d0,%d1\n"
    "\tjge filasm343\n"
    "\taddq.l #1,%d4\n"
    "\tjra filasm342\n"
    "filasm335:\n"
    "\tmovem.l (%sp)+,#30968\n"
    "\taddq.l #8,%sp\n"
    "\trts\n"
);

asm(
    "filltrapezoid_asm:\n"
    "\tmovem.l #7966,-(%sp)\n"
    "\tmove.l 44(%sp),%d5\n"
    "\tmove.l 48(%sp),%a4\n"
    "\tmove.l 52(%sp),%d6\n"
    "\tmove.l 56(%sp),%d7\n"
    "\tmove.l 60(%sp),%d1\n"
    "\tmove.l 64(%sp),%d0\n"
    "\tmove.l %d1,%a3\n"
    "\tadd.l %d5,%a3\n"
    "\ttst.l %d1\n"
    "\tjle filasm299\n"
    "\tmove.l %d5,%d1\n"
    "\tmove.l %a3,%d5\n"
    "\tmove.l %d1,%a3\n"
    "filasm299:\n"
    "\tmove.l %d0,%a6\n"
    "\tadd.l %d6,%a6\n"
    "\ttst.l %d0\n"
    "\tjle filasm300\n"
    "\tmove.l %d6,%d0\n"
    "\tmove.l %a6,%d6\n"
    "\tmove.l %d0,%a6\n"
    "filasm300:\n"
    "\tmove.l %a4,%d4\n"
    "\tlea get_coordinatex_a,%a5\n"
    "filasm301:\n"
    "\tcmp.l %d4,%d7\n"
    "\tjge filasm304\n"
    "\tmovem.l (%sp)+,#30968\n"
    "\trts\n"
    "filasm304:\n"
    "\tmove.l %d4,-(%sp)\n"
    "\tmove.l %d7,-(%sp)\n"
    "\tmove.l %a6,-(%sp)\n"
    "\tmove.l %a4,-(%sp)\n"
    "\tmove.l %a3,-(%sp)\n"
    "\tjsr (%a5)\n"
    "\tlea (20,%sp),%sp\n"
    "\tmove.l %d0,%d3\n"
    "\tmove.l %d4,-(%sp)\n"
    "\tmove.l %d7,-(%sp)\n"
    "\tmove.l %d6,-(%sp)\n"
    "\tmove.l %a4,-(%sp)\n"
    "\tmove.l %d5,-(%sp)\n"
    "\tjsr (%a5)\n"
    "\tlea (20,%sp),%sp\n"
    "\tmove.l %d4,%d1\n"
    "\tmoveq #10,%d2\n"
    "\tlsl.l %d2,%d1\n"
    "\tadd.l #g_gmemory_asm,%d1\n"
    "filasm302:\n"
    "\tcmp.l %d0,%d3\n"
    "\tjle filasm303\n"
    "\taddq.l #1,%d4\n"
    "\tjra filasm301\n"
    "filasm303:\n"
    "\tmove.l %d3,%a0\n"
    "\tadd.l %d3,%a0\n"
    "\tmove.w 70(%sp),(%a0,%d1.l)\n"
    "\taddq.l #1,%d3\n"
    "\tjra filasm302\n"
);

asm(
    "filltriangle_asm:\n"
    "\tmovem.l #7966,-(%sp)\n"
    "\tmove.l 40(%sp),%a5\n"
    "\tmove.l 44(%sp),%a3\n"
    "\tmove.l 48(%sp),%d5\n"
    "\tmove.l 52(%sp),%d7\n"
    "\tmove.l 56(%sp),%d4\n"
    "\tmove.l 60(%sp),%d6\n"
    "\tmove.l 64(%sp),%d3\n"
    "\tmove.l 68(%sp),%a6\n"
    "\tcmp.l %d5,%d4\n"
    "\tjlt filasm306\n"
    "\tcmp.l %d5,%d3\n"
    "\tjge filasm307\n"
    "\tmove.l %d5,%d0\n"
    "\tmove.l %d3,%d5\n"
    "\tmove.l %d0,%d3\n"
    "\tmove.l %a3,%d0\n"
    "\tmove.l %d6,%a3\n"
    "\tmove.l %d0,%d6\n"
    "filasm307:\n"
    "\tcmp.l %d3,%d4\n"
    "\tjgt filasm308\n"
    "\tmove.l %d3,%d0\n"
    "\tmove.l %d4,%d3\n"
    "\tmove.l %d0,%d4\n"
    "\tmove.l %d6,%d0\n"
    "\tmove.l %d7,%d6\n"
    "\tmove.l %d0,%d7\n"
    "filasm308:\n"
    "\tmove.l %d3,-(%sp)\n"
    "\tmove.l %d4,-(%sp)\n"
    "\tmove.l %d7,-(%sp)\n"
    "\tmove.l %d5,-(%sp)\n"
    "\tmove.l %a3,-(%sp)\n"
    "\tjsr get_coordinatex_a\n"
    "\tlea (20,%sp),%sp\n"
    "\tmove.l %d0,%a4\n"
    "\tsub.l %d6,%a4\n"
    "\tmove.l %a6,-(%sp)\n"
    "\tmove.l %a4,-(%sp)\n"
    "\tclr.l -(%sp)\n"
    "\tmove.l %d3,-(%sp)\n"
    "\tmove.l %d6,-(%sp)\n"
    "\tmove.l %d5,-(%sp)\n"
    "\tmove.l %a3,-(%sp)\n"
    "\tmove.l %a5,-(%sp)\n"
    "\tjsr filltrapezoid_asm\n"
    "\tlea (32,%sp),%sp\n"
    "\tmove.l %a6,68(%sp)\n"
    "\tclr.l 64(%sp)\n"
    "\tmove.l %a4,60(%sp)\n"
    "\tmove.l %d4,56(%sp)\n"
    "\tmove.l %d7,52(%sp)\n"
    "\tmove.l %d3,48(%sp)\n"
    "\tmove.l %d6,44(%sp)\n"
    "\tmove.l %a5,40(%sp)\n"
    "\tmovem.l (%sp)+,#30968\n"
    "\tjra filltrapezoid_asm\n"
    "filasm310:\n"
    "\tmove.l %d3,%d0\n"
    "\tmove.l %d4,%d3\n"
    "\tmove.l %d5,%d4\n"
    "\tmove.l %d0,%d5\n"
    "\tmove.l %d6,%d0\n"
    "\tmove.l %d7,%d6\n"
    "\tmove.l %a3,%d7\n"
    "\tmove.l %d0,%a3\n"
    "\tjra filasm308\n"
    "filasm306:\n"
    "\tcmp.l %d4,%d3\n"
    "\tjlt filasm310\n"
    "\tmove.l %d5,%d0\n"
    "\tmove.l %d4,%d5\n"
    "\tmove.l %d0,%d4\n"
    "\tmove.l %a3,%d0\n"
    "\tmove.l %d7,%a3\n"
    "\tmove.l %d0,%d7\n"
    "\tjra filasm307\n"
);



